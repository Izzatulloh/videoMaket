"use strict";var video=document.querySelector("video"),play=document.querySelector(".fa-play"),stop=document.querySelector(".fa-stop"),playerIcon=document.querySelector(".video__player-icon"),forward=document.querySelector(".fa-forward"),backward=document.querySelector(".fa-backward"),volume=document.querySelector(".volume"),progress=document.querySelector(".progress"),volumeUpDown=document.querySelector(".fa-volume-up"),time=document.querySelector(".video__time"),fullScreen=document.querySelector(".fullScreen");playerIcon.addEventListener("click",function(){video__time(),player(),playerIcon.style.display="none"}),video.addEventListener("click",function(){player(),playerIcon.style.display="none"}),play.addEventListener("click",function(){player(),playerIcon.style.display="none"}),stop.addEventListener("click",function(){stopVideo()}),volume.addEventListener("input",function(){var a=volume.value;video.volume=a/100,save=volume.value}),video.addEventListener("timeupdate",function(){progressUpadate(),playerIcon.style.display="none"}),backward.addEventListener("click",function(){speedDownVideo(),playerIcon.style.display="none"}),forward.addEventListener("click",function(){speedUpVideo()}),progress.addEventListener("click",function(){videoRewind()}),volumeUpDown.addEventListener("click",function(){volumeUp()}),fullScreen.addEventListener("click",function(){video.requestFullscreen()});var speed=1;function progressUpadate(){var a=video.duration,b=video.currentTime;progress.value=100*b/a}function player(){play.classList.contains("fa-play")?(play.classList.add("fa-pause"),play.classList.remove("fa-play"),playVideo()):(play.classList.add("fa-play"),play.classList.remove("fa-pause"),pauseVideo())}var save=volume.value,saveVol=video.volume;function volumeUp(){var a=volume.value;video.volume=a/100,volumeUpDown.classList.contains("fa-volume-up")?(volumeUpDown.classList.add("fa-volume-mute"),volumeUpDown.classList.remove("fa-volume-up"),video.volume=0,volume.value=0):(volumeUpDown.classList.add("fa-volume-up"),volumeUpDown.classList.remove("fa-volume-mute"),video.volume=saveVol,volume.value=save)}function playVideo(){video.play()}function pauseVideo(){video.pause()}function stopVideo(){video.pause(),video.currentTime=0,play.classList.add("fa-play"),play.classList.remove("fa-pause"),playerIcon.style.display="flex"}function speedDownVideo(){video.play(),video.playbackRate=speed,speed-=.5,.5>=speed&&(speed=.5),play.classList.remove("fa-play"),play.classList.add("fa-pause")}function speedUpVideo(){video.play(),video.playbackRate=speed,speed+=.5,3<=speed&&(speed=3),play.classList.remove("fa-play"),play.classList.add("fa-pause")}function videoRewind(){var a=progress.offsetWidth,b=event.offsetX;progress.value=100*b/a,video.currentTime=video.duration*(b/a),console.log(a)}video.addEventListener("loadedmetadata",function(){video__time()}),video.addEventListener("timeupdate",function(){video__time()});function fixed(a){return 10>a?"0".concat(a):"".concat(a)}function video__time(){var a=+video.duration.toFixed(),b=+video.currentTime.toFixed(),c="".concat(fixed(Math.floor(b/60)),":").concat(fixed(Math.floor(b%60))),d="".concat(Math.floor(a/60),":").concat(Math.floor(a%60));time.innerHTML="".concat(c," / ").concat(d)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvdmlkZW9QbGF5ZXIuanMiXSwibmFtZXMiOlsidmlkZW8iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwbGF5Iiwic3RvcCIsInBsYXllckljb24iLCJmb3J3YXJkIiwiYmFja3dhcmQiLCJ2b2x1bWUiLCJwcm9ncmVzcyIsInZvbHVtZVVwRG93biIsInRpbWUiLCJmdWxsU2NyZWVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZpZGVvX190aW1lIiwicGxheWVyIiwic3R5bGUiLCJkaXNwbGF5Iiwic3RvcFZpZGVvIiwidm9sIiwidmFsdWUiLCJzYXZlIiwicHJvZ3Jlc3NVcGFkYXRlIiwic3BlZWREb3duVmlkZW8iLCJzcGVlZFVwVmlkZW8iLCJ2aWRlb1Jld2luZCIsInZvbHVtZVVwIiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJzcGVlZCIsImQiLCJkdXJhdGlvbiIsImMiLCJjdXJyZW50VGltZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYWRkIiwicmVtb3ZlIiwicGxheVZpZGVvIiwicGF1c2VWaWRlbyIsInNhdmVWb2wiLCJwYXVzZSIsInBsYXliYWNrUmF0ZSIsIndpZHRoIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXQiLCJldmVudCIsIm9mZnNldFgiLCJjb25zb2xlIiwibG9nIiwiZml4ZWQiLCJudW1iZXIiLCJ0b0ZpeGVkIiwiY3VycmVudCIsInRpbWVyIiwiTWF0aCIsImZsb29yIiwiZHVyIiwiaW5uZXJIVE1MIl0sIm1hcHBpbmdzIjoiZ0JBQUlBLENBQUFBLEtBQUssQ0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLE9BQXZCLEMsQ0FDUkMsSUFBSSxDQUFHRixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsVUFBdkIsQyxDQUNQRSxJQUFJLENBQUdILFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixVQUF2QixDLENBQ1BHLFVBQVUsQ0FBR0osUUFBUSxDQUFDQyxhQUFULENBQXVCLHFCQUF2QixDLENBQ2JJLE9BQU8sQ0FBR0wsUUFBUSxD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bWVudC5xdWVyeVNlbGVjdG9yKFwidmlkZW9cIik7XG5sZXQgcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmEtcGxheVwiKTtcbmxldCBzdG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhLXN0b3AnKVxubGV0IHBsYXllckljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlkZW9fX3BsYXllci1pY29uJylcbmxldCBmb3J3YXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhLWZvcndhcmQnKVxubGV0IGJhY2t3YXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhLWJhY2t3YXJkJylcbmxldCB2b2x1bWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudm9sdW1lJylcbmxldCBwcm9ncmVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmVzcycpXG5sZXQgdm9sdW1lVXBEb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhLXZvbHVtZS11cCcpXG5sZXQgdGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWRlb19fdGltZScpXG5sZXQgZnVsbFNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mdWxsU2NyZWVuJylcblxucGxheWVySWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgdmlkZW9fX3RpbWUoKVxuICAgIHBsYXllcigpXG4gICAgcGxheWVySWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG59KVxudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcGxheWVyKClcbiAgICBwbGF5ZXJJY29uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbn0pXG5wbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHBsYXllcigpXG4gICAgcGxheWVySWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG59KVxuc3RvcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgc3RvcFZpZGVvKClcbn0pXG52b2x1bWUuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKT0+e1xuICAgIGxldCB2b2wgPSB2b2x1bWUudmFsdWU7XG4gICAgdmlkZW8udm9sdW1lID0gdm9sIC8gMTAwXG4gICAgc2F2ZSA9IHZvbHVtZS52YWx1ZVxufSlcbnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCAoKT0+e1xuICAgIHByb2dyZXNzVXBhZGF0ZSgpXG4gIFxuICAgIHBsYXllckljb24uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIFxufSlcbmJhY2t3YXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xuICAgIHNwZWVkRG93blZpZGVvKClcbiAgICBwbGF5ZXJJY29uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgIFxufSlcbmZvcndhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57XG4gICAgc3BlZWRVcFZpZGVvKClcbn0pXG5cbnByb2dyZXNzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e1xuICAgIHZpZGVvUmV3aW5kKClcbn0pXG52b2x1bWVVcERvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgIFxuICAgIHZvbHVtZVVwKCkgXG59KVxuZnVsbFNjcmVlbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgdmlkZW8ucmVxdWVzdEZ1bGxzY3JlZW4oKVxufSlcbmxldCBzcGVlZCA9IDE7XG5mdW5jdGlvbiBwcm9ncmVzc1VwYWRhdGUoKSB7XG4gICAgbGV0IGQgPSB2aWRlby5kdXJhdGlvblxuICAgIGxldCBjPSB2aWRlby5jdXJyZW50VGltZVxuICAgIHByb2dyZXNzLnZhbHVlID0gMTAwICogYyAvIGRcbn1cblxuZnVuY3Rpb24gcGxheWVyKCl7XG4gICAgaWYoIHBsYXkuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYS1wbGF5JykgKXtcbiAgICAgICAgcGxheS5jbGFzc0xpc3QuYWRkKCdmYS1wYXVzZScpO1xuICAgICAgICBwbGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLXBsYXknKTtcbiAgICAgICAgcGxheVZpZGVvKCk7ICAgIFxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGxheS5jbGFzc0xpc3QuYWRkKCdmYS1wbGF5Jyk7XG4gICAgICAgIHBsYXkuY2xhc3NMaXN0LnJlbW92ZSgnZmEtcGF1c2UnKTtcbiAgICAgICAgcGF1c2VWaWRlbygpO1xuICAgIH0gIFxufVxubGV0IHNhdmUgPSB2b2x1bWUudmFsdWVcbmxldCBzYXZlVm9sID0gdmlkZW8udm9sdW1lXG5cbmZ1bmN0aW9uIHZvbHVtZVVwKCl7XG4gICAgbGV0IHZvbCA9IHZvbHVtZS52YWx1ZTtcbiAgICAgdmlkZW8udm9sdW1lID0gdm9sIC8xMDBcbiAgICBpZiggdm9sdW1lVXBEb3duLmNsYXNzTGlzdC5jb250YWlucygnZmEtdm9sdW1lLXVwJykpIHtcbiAgICAgICAgdm9sdW1lVXBEb3duLmNsYXNzTGlzdC5hZGQoJ2ZhLXZvbHVtZS1tdXRlJyk7XG4gICAgICAgIHZvbHVtZVVwRG93bi5jbGFzc0xpc3QucmVtb3ZlKCdmYS12b2x1bWUtdXAnKTtcbiAgICAgICAgdmlkZW8udm9sdW1lID0gMFxuICAgICAgICB2b2x1bWUudmFsdWUgPSAwXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2b2x1bWVVcERvd24uY2xhc3NMaXN0LmFkZCgnZmEtdm9sdW1lLXVwJyk7XG4gICAgICAgIHZvbHVtZVVwRG93bi5jbGFzc0xpc3QucmVtb3ZlKCdmYS12b2x1bWUtbXV0ZScpO1xuICAgICAgICB2aWRlby52b2x1bWUgPSBzYXZlVm9sXG4gICAgICAgIHZvbHVtZS52YWx1ZSA9IHNhdmVcbiAgICB9IFxufVxuZnVuY3Rpb24gcGxheVZpZGVvKCkge1xuICAgIHZpZGVvLnBsYXkoKTtcbn1cbmZ1bmN0aW9uIHBhdXNlVmlkZW8oKSB7XG4gICAgdmlkZW8ucGF1c2UoKVxufVxuZnVuY3Rpb24gc3RvcFZpZGVvKCkge1xuICAgIHZpZGVvLnBhdXNlKClcbiAgICB2aWRlby5jdXJyZW50VGltZSA9IDBcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ2ZhLXBsYXknKTtcbiAgICBwbGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLXBhdXNlJyk7XG4gICAgcGxheWVySWNvbi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXG59XG5mdW5jdGlvbiBzcGVlZERvd25WaWRlbygpIHtcbiAgICB2aWRlby5wbGF5KClcbiAgICB2aWRlby5wbGF5YmFja1JhdGU9c3BlZWRcbiAgICBzcGVlZCAtPSAwLjUgXG4gICAgaWYgKHNwZWVkIDw9IDAuNSkge1xuICAgICAgICBzcGVlZCA9IDAuNVxuICAgIH1cbiAgICBwbGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLXBsYXknKTtcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ2ZhLXBhdXNlJyk7XG59XG5mdW5jdGlvbiBzcGVlZFVwVmlkZW8oKSB7XG4gICAgdmlkZW8ucGxheSgpXG4gICAgdmlkZW8ucGxheWJhY2tSYXRlID0gc3BlZWQ7XG4gICAgc3BlZWQgKz0gMC41O1xuICAgIGlmKHNwZWVkID49IDMpe1xuICAgICAgICBzcGVlZCA9IDNcbiAgICB9XG4gICAgcGxheS5jbGFzc0xpc3QucmVtb3ZlKCdmYS1wbGF5Jyk7XG4gICAgcGxheS5jbGFzc0xpc3QuYWRkKCdmYS1wYXVzZScpO1xufVxuXG5mdW5jdGlvbiB2aWRlb1Jld2luZCgpIHtcbiAgICBsZXQgd2lkdGggPSBwcm9ncmVzcy5vZmZzZXRXaWR0aDtcbiAgICBsZXQgb2Zmc2V0ID0gZXZlbnQub2Zmc2V0WDtcbiAgICBwcm9ncmVzcy52YWx1ZSA9IDEwMCAqIG9mZnNldCAvIHdpZHRoXG4gICAgdmlkZW8uY3VycmVudFRpbWUgPSB2aWRlby5kdXJhdGlvbiAqIChvZmZzZXQvd2lkdGgpXG4gICAgY29uc29sZS5sb2cod2lkdGgpOyAgICBcbn1cbnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgKCk9PntcbiAgICB2aWRlb19fdGltZSgpXG59KVxudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsICgpPT57XG4gICAgdmlkZW9fX3RpbWUoKVxufSlcbmZ1bmN0aW9uIGZpeGVkKG51bWJlcikge1xuICAgIHJldHVybiBudW1iZXIgPCAxMCA/IGAwJHtudW1iZXJ9YCA6IGAke251bWJlcn1gIFxufVxuXG5mdW5jdGlvbiB2aWRlb19fdGltZSgpIHtcbiAgICBjb25zdCBkdXJhdGlvbiA9IE51bWJlcih2aWRlby5kdXJhdGlvbi50b0ZpeGVkKCkpXG4gICAgY29uc3QgY3VycmVudCA9IE51bWJlcih2aWRlby5jdXJyZW50VGltZS50b0ZpeGVkKCkpXG4gICAgbGV0IHRpbWVyID0gYCR7Zml4ZWQoTWF0aC5mbG9vcihjdXJyZW50IC8gNjApKX06JHtmaXhlZChNYXRoLmZsb29yKGN1cnJlbnQgJSA2MCkpfWBcbiAgICBsZXQgZHVyID0gYCR7TWF0aC5mbG9vcihkdXJhdGlvbiAvIDYwKX06JHtNYXRoLmZsb29yKGR1cmF0aW9uICUgNjApfWBcbiAgICB0aW1lLmlubmVySFRNTCA9IGAke3RpbWVyfSAvICR7ZHVyfWBcbn1cbiJdLCJmaWxlIjoiY29tcG9uZW50cy92aWRlb1BsYXllci5taW4uanMifQ==
